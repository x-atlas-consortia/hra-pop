#+ summary: Dataset information
#+ description: Dataset technology, description, annotation method, and cell type counts

PREFIX ccf: <http://purl.org/ccf/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX HRApop: <https://purl.humanatlas.io/graph/hra-pop>
PREFIX HRApopFull: <https://purl.humanatlas.io/ds-graph/hra-pop-full>

SELECT DISTINCT ?sex ?dataset ?technology ?description ?annotation_method (COUNT(DISTINCT ?cell_id) as ?unique_cell_type_count)
FROM HRApop:
FROM HRApopFull:
WHERE {
  VALUES (?dataset) {
    (<https://entity.api.hubmapconsortium.org/entities/007f3dfaaa287d5c7c227651f61a9c5b>)
(<https://entity.api.hubmapconsortium.org/entities/018a905cdbdff684760859f594d3fd77>)
(<https://entity.api.hubmapconsortium.org/entities/044b28971204366347e7ed0b7ef0c279>)
(<https://entity.api.hubmapconsortium.org/entities/0804a7a9e430e6adfbc56f339d787211>)
(<https://entity.api.hubmapconsortium.org/entities/08c1aa2e74700e1170fc9218ae255992>)
(<https://entity.api.hubmapconsortium.org/entities/0a21f3fa27109790483f2a0729be53de>)
(<https://entity.api.hubmapconsortium.org/entities/0b590c9e3a62178da592e85572e2f1bf>)
(<https://entity.api.hubmapconsortium.org/entities/0b6f63f2bd61a8c091fc7afc0f318ad1>)
(<https://entity.api.hubmapconsortium.org/entities/0bcea0ab24e8bc5b0529b6f4d899ddad>)
(<https://entity.api.hubmapconsortium.org/entities/0d1eb3d774a694b79e844987f771b183>)
(<https://entity.api.hubmapconsortium.org/entities/0db9481caed92aec4cddc606108692d5>)
(<https://entity.api.hubmapconsortium.org/entities/0e184744c4443f859984bbd3b7e95d24>)
(<https://entity.api.hubmapconsortium.org/entities/1197c73d127193dd493ff542890a3d3d>)
(<https://entity.api.hubmapconsortium.org/entities/12de9dcdb62640f1687b832f69648a55>)
(<https://entity.api.hubmapconsortium.org/entities/13d882fbeae970f8fb08a6f0b76bf127>)
(<https://entity.api.hubmapconsortium.org/entities/149e1be22a4961f9c6240480710836a3>)
(<https://entity.api.hubmapconsortium.org/entities/171bd6114652ce2a1ff0e4757b5eaef9>)
(<https://entity.api.hubmapconsortium.org/entities/173de2e80adf6a73ac8cff5ccce20dfc>)
(<https://entity.api.hubmapconsortium.org/entities/176edb4b0e16059522f6f087576fbeec>)
(<https://entity.api.hubmapconsortium.org/entities/17f67cb15e59f65e640d85d2f3866cde>)
(<https://entity.api.hubmapconsortium.org/entities/1b5c7d45cb0e475b73f9280d092d34a5>)
(<https://entity.api.hubmapconsortium.org/entities/1dc16eb0270ff73291dd45b6a96aa3c0>)
(<https://entity.api.hubmapconsortium.org/entities/1ea6c0ac5ba60fe35bf63af8699b6fbe>)
(<https://entity.api.hubmapconsortium.org/entities/224e01ccfc20977ee5a6a6a5b96aa7d7>)
(<https://entity.api.hubmapconsortium.org/entities/22684b9011fc5aea5cb3f89670a461e8>)
(<https://entity.api.hubmapconsortium.org/entities/237b8f24c23821690519af862cf25a9f>)
(<https://entity.api.hubmapconsortium.org/entities/254801a318687281ba3e473569d89a45>)
(<https://entity.api.hubmapconsortium.org/entities/2639e9e8488edddde275491cdbaae662>)
(<https://entity.api.hubmapconsortium.org/entities/2c84a86ab51ec3a1168d8ba573d32c0a>)
(<https://entity.api.hubmapconsortium.org/entities/2d0deacd8be70eefbdc33ac107d97e58>)
(<https://entity.api.hubmapconsortium.org/entities/2d2356cf5b4eb114d958c31346c3dd2f>)
(<https://entity.api.hubmapconsortium.org/entities/2d3dbd5e5a3d9d5cfc7a46f06815a4eb>)
(<https://entity.api.hubmapconsortium.org/entities/2dac500177620d78ca174c2c1d36a6c8>)
(<https://entity.api.hubmapconsortium.org/entities/2e4ae8b2f845f62e77cea46ef074981c>)
(<https://entity.api.hubmapconsortium.org/entities/3152ddcb811d362113ebb119602f2cd4>)
(<https://entity.api.hubmapconsortium.org/entities/32b783576b6c88fec03f5e5988e3effa>)
(<https://entity.api.hubmapconsortium.org/entities/33b9c54d7c295897826e1e5271d4fc24>)
(<https://entity.api.hubmapconsortium.org/entities/35234b5e3eda236bb80ef3722da366f7>)
(<https://entity.api.hubmapconsortium.org/entities/35e9bf0f58152ceb6f4d01052ac8867d>)
(<https://entity.api.hubmapconsortium.org/entities/35f5b75a7e3d0711f16b0a10219586fb>)
(<https://entity.api.hubmapconsortium.org/entities/367fee3b40cba682063289505b922be1>)
(<https://entity.api.hubmapconsortium.org/entities/377df3da484d29fdde20ec020a76ba1b>)
(<https://entity.api.hubmapconsortium.org/entities/37988db44acc8d0780e4e31cd057e789>)
(<https://entity.api.hubmapconsortium.org/entities/37ccf28cb5c06e8ba076f587ee4e50be>)
(<https://entity.api.hubmapconsortium.org/entities/3bb5f743b039cb620d7ef234e0876f7a>)
(<https://entity.api.hubmapconsortium.org/entities/3c1b10bc912c60c9afc36b7423695236>)
(<https://entity.api.hubmapconsortium.org/entities/3febd011f193673c6f87a60718dd8f96>)
(<https://entity.api.hubmapconsortium.org/entities/42ab155ddff1d33fe1c505c067828614>)
(<https://entity.api.hubmapconsortium.org/entities/434fbc55d458dc4e06da9ba4961f3840>)
(<https://entity.api.hubmapconsortium.org/entities/4369a119a9c06ea304003a5c3cb3a2e0>)
(<https://entity.api.hubmapconsortium.org/entities/47015df8ab7615a9ce26098d88196dde>)
(<https://entity.api.hubmapconsortium.org/entities/4706e0339d507e7bd878458e2e9e7460>)
(<https://entity.api.hubmapconsortium.org/entities/4b5dc6d04aa30a6eb0b224a7ab7d03b3>)
(<https://entity.api.hubmapconsortium.org/entities/4b62d9d2c248323ce029859f953fdc57>)
(<https://entity.api.hubmapconsortium.org/entities/5039cf8619f6f8b5b4a14af1037e1d1f>)
(<https://entity.api.hubmapconsortium.org/entities/51bc718e411810044e4258dae80ff044>)
(<https://entity.api.hubmapconsortium.org/entities/51bfd85763954248725ebf69f0dde5eb>)
(<https://entity.api.hubmapconsortium.org/entities/524dc341a03c155b6f4140e9d72f9b1d>)
(<https://entity.api.hubmapconsortium.org/entities/52ec5e111357f8fdd4ab2a3c5790cf4e>)
(<https://entity.api.hubmapconsortium.org/entities/55452bd302046918eaeeffa62c5b5f03>)
(<https://entity.api.hubmapconsortium.org/entities/56742ee7dcbe8b03d964f519009db12d>)
(<https://entity.api.hubmapconsortium.org/entities/56cbda4789f04d79c0c3dffe21816d48>)
(<https://entity.api.hubmapconsortium.org/entities/57054da2dbe87b93f1adb78444086963>)
(<https://entity.api.hubmapconsortium.org/entities/58167d0f778284d5b95af782bd8132da>)
(<https://entity.api.hubmapconsortium.org/entities/59249f23ecdcc975c90de9a1956a5285>)
(<https://entity.api.hubmapconsortium.org/entities/5a5ca03fa623602d9a859224aa40ace4>)
(<https://entity.api.hubmapconsortium.org/entities/5ee240959c96b49d960702755478b9fc>)
(<https://entity.api.hubmapconsortium.org/entities/5f4e84e77fd0e4dec0c4d1cab468de15>)
(<https://entity.api.hubmapconsortium.org/entities/615462a0e4aa133d8b19644c404e3eeb>)
(<https://entity.api.hubmapconsortium.org/entities/62efbe0a6abd0bcf53ab9ab29e7cd73f>)
(<https://entity.api.hubmapconsortium.org/entities/63349325056ccff582f1d095055c7e12>)
(<https://entity.api.hubmapconsortium.org/entities/634511b7c63c16cfb51dc867c65cfc91>)
(<https://entity.api.hubmapconsortium.org/entities/674116f3bb6c85dc933ea4ce6ffab05f>)
(<https://entity.api.hubmapconsortium.org/entities/6c4582697caa32064baebc97cade18ef>)
(<https://entity.api.hubmapconsortium.org/entities/6cd63d0ee2c67c3be41e4be1522d9c07>)
(<https://entity.api.hubmapconsortium.org/entities/6cd657565c709c832300336899a1e1ec>)
(<https://entity.api.hubmapconsortium.org/entities/6e1db473492095ccc2f1393d7259b9c0>)
(<https://entity.api.hubmapconsortium.org/entities/6efd19dc32f820a0e6be6a34973359b6>)
(<https://entity.api.hubmapconsortium.org/entities/6fdfde6f88e34294b3cd58e070ebcba2>)
(<https://entity.api.hubmapconsortium.org/entities/7017034c816444f6acb469834e53344f>)
(<https://entity.api.hubmapconsortium.org/entities/72fd0d8256cd9d9e9d0c75ed7b4431cc>)
(<https://entity.api.hubmapconsortium.org/entities/739184f7ec84d93a35360cde81cc026c>)
(<https://entity.api.hubmapconsortium.org/entities/74e09cbb91aba06b48429651cb388940>)
(<https://entity.api.hubmapconsortium.org/entities/7646a8a89555a123a56446b66c183d58>)
(<https://entity.api.hubmapconsortium.org/entities/79f8c7ec1b200dfe5b46d0bcfec02bd7>)
(<https://entity.api.hubmapconsortium.org/entities/7c8c57d0d7f39d680f30587cc2c91c64>)
(<https://entity.api.hubmapconsortium.org/entities/7c9e07c96d144536525b1f889acee14d>)
(<https://entity.api.hubmapconsortium.org/entities/7cc96210e80d5736ca38711503e4ff06>)
(<https://entity.api.hubmapconsortium.org/entities/7d70a4deb9e2f0592f0c56e20ca91169>)
(<https://entity.api.hubmapconsortium.org/entities/7f1e932a91a86ef58ed61ee19c175c18>)
(<https://entity.api.hubmapconsortium.org/entities/8306f9bdef96312bd36c18b45bd8e141>)
(<https://entity.api.hubmapconsortium.org/entities/8464b75a88e33b69027c39b0c3f43b2f>)
(<https://entity.api.hubmapconsortium.org/entities/853ab5348f619043ab2f997ac8ae14f0>)
(<https://entity.api.hubmapconsortium.org/entities/898138b7f45a67c574e9955fb400e9be>)
(<https://entity.api.hubmapconsortium.org/entities/8c5e705001d5cc1c40dbd963ad848486>)
(<https://entity.api.hubmapconsortium.org/entities/8cdb42ed1194255c74c8462b99bbd7ef>)
(<https://entity.api.hubmapconsortium.org/entities/8d631eee88855ac59155edca2a3bc1ca>)
(<https://entity.api.hubmapconsortium.org/entities/8df15cb20f5e127d102a73d0ec5682a0>)
(<https://entity.api.hubmapconsortium.org/entities/91cfb45f5d398e950ed65786c87f4372>)
(<https://entity.api.hubmapconsortium.org/entities/92248f72d47b916a2027085ec1b8e996>)
(<https://entity.api.hubmapconsortium.org/entities/9305d53ae8c0dd565a088cd45f20e0c8>)
(<https://entity.api.hubmapconsortium.org/entities/949827f25f423d54663f09596351795d>)
(<https://entity.api.hubmapconsortium.org/entities/985b97a1645baa3d7dffd4c0e13adbb6>)
(<https://entity.api.hubmapconsortium.org/entities/9a7e6be288b27ddbd3366c4ae41bbcd2>)
(<https://entity.api.hubmapconsortium.org/entities/9b99c75de2347b9567e33065108488e8>)
(<https://entity.api.hubmapconsortium.org/entities/9fe24e50c8b8b77d86900ee4beecef69>)
(<https://entity.api.hubmapconsortium.org/entities/a1d17fdd270a69c813b872a927dfa5f3>)
(<https://entity.api.hubmapconsortium.org/entities/a39fed027b51d97f83cec90c63c44744>)
(<https://entity.api.hubmapconsortium.org/entities/a48ab0bf5d8084da24859c4e64336e9c>)
(<https://entity.api.hubmapconsortium.org/entities/a6bfa5ab516fcc24137cdd3ce3971e2c>)
(<https://entity.api.hubmapconsortium.org/entities/aaedb5272190e61bf557d3b0a1bc591f>)
(<https://entity.api.hubmapconsortium.org/entities/ad693f99fb9006e68a53e97598da1509>)
(<https://entity.api.hubmapconsortium.org/entities/aeaaa0536b87935ad50cf69f1a0c3b1a>)
(<https://entity.api.hubmapconsortium.org/entities/aece0d5303d9ce959cdab34a9e9f3003>)
(<https://entity.api.hubmapconsortium.org/entities/af5741dad7aecf7960a129c3d2ae642a>)
(<https://entity.api.hubmapconsortium.org/entities/b05c21f9c94ce1a22a9694cd0fe0291e>)
(<https://entity.api.hubmapconsortium.org/entities/b07a1fb96ddc2d4119e1f9a73d9c0a6a>)
(<https://entity.api.hubmapconsortium.org/entities/b0f51c557f05bcff69c9eed090c93b79>)
(<https://entity.api.hubmapconsortium.org/entities/b1ac71625c1aba9d819fae1725c27a42>)
(<https://entity.api.hubmapconsortium.org/entities/b2ab05f290c0740c3198f020cd70e78d>)
(<https://entity.api.hubmapconsortium.org/entities/b95f34761c252ebbd1e482cd9afae73f>)
(<https://entity.api.hubmapconsortium.org/entities/b99fc30c4195958fbef217fa9ed9ec8f>)
(<https://entity.api.hubmapconsortium.org/entities/bcea4743ccb03d1c4f51c82b88a528d6>)
(<https://entity.api.hubmapconsortium.org/entities/be103f95cc6c1a3e48f099d1bd149a49>)
(<https://entity.api.hubmapconsortium.org/entities/c14b104f9e44511ddf82697bce0d1901>)
(<https://entity.api.hubmapconsortium.org/entities/c616de3ce57804ede2dd519a1c8addf2>)
(<https://entity.api.hubmapconsortium.org/entities/c6bb00096b0cf40751f9d6003fb730c7>)
(<https://entity.api.hubmapconsortium.org/entities/c6c0cca1d093fcdb8d72bd18053a7940>)
(<https://entity.api.hubmapconsortium.org/entities/c7beda8afe491243d634e3fd0531489b>)
(<https://entity.api.hubmapconsortium.org/entities/c81b0dc9d16eb825a7d6bce6e1b3678f>)
(<https://entity.api.hubmapconsortium.org/entities/ca35382d67c90d4d9bca1ee16526b1d3>)
(<https://entity.api.hubmapconsortium.org/entities/ccbad4ffd323265937b842ea36ada4ad>)
(<https://entity.api.hubmapconsortium.org/entities/cdf9127efdfc96189845c35244d4d8ab>)
(<https://entity.api.hubmapconsortium.org/entities/d0c1bd09443c301413f44f7108d20e08>)
(<https://entity.api.hubmapconsortium.org/entities/d1af36911148fdd7001fd4eebe7222f1>)
(<https://entity.api.hubmapconsortium.org/entities/d482512016a61ef479960e2cb58552f2>)
(<https://entity.api.hubmapconsortium.org/entities/d68e7b99290b6b7cca686b54955a2c22>)
(<https://entity.api.hubmapconsortium.org/entities/d6e6c8e452ed628425e9e928306a6db0>)
(<https://entity.api.hubmapconsortium.org/entities/d87b2121ee1a5777c29a69307f806328>)
(<https://entity.api.hubmapconsortium.org/entities/dab09765ac710804749b195462381b32>)
(<https://entity.api.hubmapconsortium.org/entities/dbe24793ebc30c47e241150cccf4b0d1>)
(<https://entity.api.hubmapconsortium.org/entities/dc4f4778dd04263c0660addcc93b3807>)
(<https://entity.api.hubmapconsortium.org/entities/dd648e4648238b25a7d1062669ea89af>)
(<https://entity.api.hubmapconsortium.org/entities/dd7ccbc306692fc5ff5e61c22845da21>)
(<https://entity.api.hubmapconsortium.org/entities/e010f7505632d7b6eeda25b349383149>)
(<https://entity.api.hubmapconsortium.org/entities/e375a44f5cf5457c8f9b1132574c2436>)
(<https://entity.api.hubmapconsortium.org/entities/e5f7a14d93659bd0b8dc2819ffa9bc4b>)
(<https://entity.api.hubmapconsortium.org/entities/e65175561b4b17da5352e3837aa0e497>)
(<https://entity.api.hubmapconsortium.org/entities/e7bdf34c4da9f1d880f2615226e9713d>)
(<https://entity.api.hubmapconsortium.org/entities/e81c9c9753998b2ca69e8bceadf2409d>)
(<https://entity.api.hubmapconsortium.org/entities/e901621d0400c18d3d69decd46a82c84>)
(<https://entity.api.hubmapconsortium.org/entities/ec7ebe15feec075a0299979b0350dd3a>)
(<https://entity.api.hubmapconsortium.org/entities/f0d9d828d7d1e61289d72e52fafafafa>)
(<https://entity.api.hubmapconsortium.org/entities/f220c9e7bcaea3a87162cbe61287ea4d>)
(<https://entity.api.hubmapconsortium.org/entities/f3a05f31c6ea4e2315bc66ff468a5a0a>)
(<https://entity.api.hubmapconsortium.org/entities/f7afbf7de3dc1367582eebb27ae130b7>)
(<https://entity.api.hubmapconsortium.org/entities/f88e96675a3215474570083edad66e0c>)
(<https://entity.api.hubmapconsortium.org/entities/fae9a1f2e7abefca2203765a3c7a5ba1>)
(<https://entity.api.hubmapconsortium.org/entities/fb94e862fe33f171de6e07d2d207d0de>)
(<https://entity.api.hubmapconsortium.org/entities/fbb43e7c05d88c8700af94a32cb4e21d>)
(<https://entity.api.hubmapconsortium.org/entities/fbfdd102ecd60d7cf9d3da8c3d83a5c4>)
(<https://entity.api.hubmapconsortium.org/entities/fcd7a8d45be34fdccb8fa400ea81a331>)
(<https://entity.api.hubmapconsortium.org/entities/fd0b0c1d050010de3520492147aacef4>)
(<https://entity.api.hubmapconsortium.org/entities/fd57a928d9f3cee7e95d284f1d5b9935>)
(<https://entity.api.hubmapconsortium.org/entities/fdfa344add5dcf9e8e0f6572efbf9312>)
(<https://entity.api.hubmapconsortium.org/entities/fe0ded5fc0355c95239f9c040dd31e99>)
  }
  FILTER(?annotation_method = 'azimuth')

  ?dataset a ccf:Dataset.
  OPTIONAL {
    ?dataset ccf:technology ?technology ;
      rdfs:comment ?description ;
  }
  OPTIONAL {
    ?dataset ccf:has_cell_summary ?cell_summary .
    ?cell_summary ccf:cell_annotation_method ?annotation_method ;
                  ccf:sex ?sex ;
                  ccf:has_cell_summary_row [
                    ccf:cell_id ?cell_id
                  ] .
  }
}
GROUP BY ?sex ?dataset ?technology ?description ?annotation_method
